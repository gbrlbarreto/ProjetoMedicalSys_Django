{% extends 'base.html' %}

{% block title %} Lista de Agendamentos {% endblock %}

{% block main %}

<style>
    body {
        background-image: url('../../media/photos/hospital_4.jpg');
        background-attachment: fixed;
        background-size: cover;
    }
</style>



<p>

    <div class="row">
        <div class="col">

        </div>         

        <div rel="stylesheet" href="agendamento.css" type="text/css">

            <h3 class="titulo_lista_pacientes">Lista de Pacientes</h3>
      
        </div>

        <div rel="stylesheet" href="agendamento.css" type="text/css">
            {% if user.is_authenticated %}

                <p class="nome_usuario">Olá {{ user.username }}</p>
                   
    
            {% endif %}

        </div>
    </div>


    <div rel="stylesheet" href="agendamento.css" type="text/css"></div>
    <a href="{% url 'logout' %}" class="badge text-bg-dark" class="button_sair">Sair</a> 
<br>
    <br>
    
    <div rel="stylesheet" href="agendamento.css" type="text/css">

        <a class="btn btn-primary btn-sm" href="{% url 'agendamentos_new' %}" class="btn_novo_agendamento">Novo Agendamento</a>
        <a href="{% url 'home' %}" class="btn btn-secondary btn-sm">Voltar</a> 
    </div>

    

    <br><br>

    <ul class="list-group">
        {% for agendamento in agendamentos %}
            <ul class="list-group list-group-horizontal">
                <li class="list-group-item">{{ agendamento.Paciente.nome }}</li>
                <li class="list-group-item">{{ agendamento.Data }}</li>

                {% if agendamento.status == "A Confirmar" %}
                    <li class="list-group-item list-group-item-danger">{{ agendamento.status }}</li>
                {% elif agendamento.status == "Confirmado" %}
                    <li class="list-group-item list-group-item-success">{{ agendamento.status }}</li>
                {% elif agendamento.status == "Finalizado" %}
                    <li class="list-group-item list-group-item-dark">{{ agendamento.status }}</li>
                {% endif %}

                <li class="list-group-item"><a href="{% url 'agendamentos_update' agendamento.id%}" title="Editar agendamento">
                    <i class="bi-pencil-square"></i></a></li>
                <li class="list-group-item"><a href="{% url 'agendamentos_delete' agendamento.id%}" class="trash-item" title="Excluir agendamento">
                    <i class="bi-trash-fill"></i></a></li>
              </ul>
        {% endfor %}
    </ul>

    <!-- Agendamento 1ª forma
    <ul class="list-group">
        {% for agendamento in agendamentos %}

            <li class="list-group-item"> 
                {{ agendamento.paciente.nome }} | {{ agendamento.data }} | {{ agendamento.status }} <a href="{% url 'agendamentos_update' agendamento.id%}" title="Editar agendamento">
                    <i class="bi-pencil-square"></i>
                </a>
                <a href="{% url 'agendamentos_delete' agendamento.id%}" class="trash-item" title="Excluir agendamento">
                    <i class="bi-trash-fill"></i>
                </a>
            </li>
        {% endfor %}
    </ul>
    -->
    <br>

{% endblock %}

{% block footer %}
    <footer class="footer">
        <div class="text-center">
            <span class="text-muted">Desenvolvimento Web com Django</span>
        </div>
    </footer>
{% endblock %}
