{% extends 'base.html' %}
{% load static %}

{% block title %} Lista de Pacientes {% endblock %}

{% block main %}

<style>
    body {
        background-image: url("{% static 'img/hospital_2.jpg' %}");
        background-attachment: fixed;
        background-size: cover;
    }
</style>

<div class="container person-list-container">

    <!-- Header -->
    <div class="row align-items-center mb-4" style="margin-top: 0;">
        <div class="col-4">
        </div>
        <div class="col-4 text-center">
            <h3 class="person-list-title">Lista de Pacientes</h3>
        </div>
        <div class="col-4 text-end home-actions">
            {% if user.is_authenticated %}
                <span class="fw-bold">Olá, {{ user.first_name }} {{ user.last_name }}</span>
                <a href="{% url 'logout' %}" class="btn btn-danger logout-btn">
                    Sair <i class="bi bi-box-arrow-right"></i>
                </a>
            {% endif %}
        </div>
    </div>

        <!-- Botões de ação -->
    <div class="person-actions text-center mt-4 mb-3">
        <a href="{% url 'person_new' %}" class="btn btn-primary btn-sm">
            <i class="bi bi-plus-circle"></i> Novo paciente
        </a>
        <a href="{% url 'home' %}" class="btn btn-secondary btn-sm">
            <i class="bi bi-arrow-left-circle"></i> Voltar
        </a>
    </div>

    <!-- Lista de pacientes -->
    <ul class="list-group person-list">
        {% for person in persons %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                {{ person.nome }}
                <span class="person-actions">
                    <a href="{% url 'persons_update' person.id %}" title="Editar paciente" class="text-primary">
                        <i class="bi-pencil-square"></i>
                    </a>
                    <a href="{% url 'persons_delete' person.id %}" title="Excluir paciente" class="text-danger">
                        <i class="bi-trash-fill"></i>
                    </a>
                </span>
            </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}

{% block footer %}
    <footer class="footer">
        <div class="text-center">
            <span class="text-muted">Desenvolvimento Web com Django</span>
        </div>
    </footer>
{% endblock %}
